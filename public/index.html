<html>

<head>
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <script src="https://kit.fontawesome.com/1515315868.js" crossorigin="anonymous"></script>
  <title>Mock Server</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" href="./style.css">
  <script>
    function onIframeLoadHandler($event) {
      document.getElementById("loader").style.display = "none";
      $event.contentWindow.document.body.style.color = "#dcdcdc";
      $event.contentWindow.document.body.style.fontSize = "18px";
      $event.contentWindow.document.body.style.lineHeight = "1.7rem";
      $event.contentWindow.document.body.style.padding = "20px";
      $event.contentWindow.document.body.style.margin = "0";

      const pre = $event.contentWindow.document.body.getElementsByTagName("pre");
      if (pre && pre[0]) {
        pre[0].style.margin = "0";
      }
    }
  </script>
</head>

<body>
  <div id="container" class="d-flex h-100">
    <div id="resources-container" class="custom-scrollbar">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark position-sticky top-0">
        <div class="container">
          <a class="navbar-brand d-flex align-items-center" href="https://github.com/R35007/Mock-Server" target="blank">
            <img src="./mockserverlogo.png" alt="" width="30" class="d-inline-block align-text-top me-2">
            Mock Server
          </a>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
              <li class="nav-item me-3">
                <a class="nav-link" href="https://github.com/R35007/Mock-Server" target="blank">
                  <i class="fab fa-github-alt me-2"></i>GitHub
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="https://r35007.github.io/Mock-Server/" target="blank">
                  <i class="fab fa-readme me-2"></i>Readme
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <nav class="navbar navbar-expand-lg navbar-light bg-light position-sticky" style="top: 61px;">
        <div class="container">
          <a class="navbar-brand d-flex align-items-center">
            <span>Resources</span>
            <span id="resources-count" class="badge bg-secondary ms-3" style="font-size: 0.7rem;"></span>
          </a>
          <form class="ms-3 d-flex align-items-center m-0">
            <input type="search" id="search" class="form-control search" oninput="filterRoutes()"
              placeholder="Search resources here" aria-label="Search" />
          </form>
        </div>
      </nav>
      <ul id="resources-list" class="nav nav-pills mt-3 mb-5 mx-4 flex-column p-0 overflow-hidden"></ul>
      <div class="container px-4">
        <p>To access and modify resources, you can use any HTTP method:</p>
        <p>
          <code class="badge bg-secondary me-2">GET</code>
          <code class="badge bg-secondary me-2">POST</code>
          <code class="badge bg-secondary me-2">PUT</code>
          <code class="badge bg-secondary me-2">PATCH</code>
          <code class="badge bg-secondary me-2">DELETE</code>
          <code class="badge bg-secondary me-2">OPTIONS</code>
          <code class="badge bg-secondary me-2">HEAD</code>
        </p>
        <h2>Documentation</h1>
          <p><a href="https://r35007.github.io/Mock-Server/" target="blank">README</a></p>
      </div>
    </div>
    <div id="separator"></div>
  <div id="data-container" style="width: 600px;" class="position-relative custom-scrollbar">
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary position-sticky top-0 p-0">
        <div class="container-fluid p-0">
          <a title="open in new tab" id="resource-header" style="margin: 3.2px" class="btn btn-primary" target="_blank">
            <i class="me-3 fas fa-external-link-alt"></i>
            <span></span>
          </a>
          <a title="download" id="download" download href="" style="pointer-events: none;">
            <i class="fas fa-download"></i>
          </a>
        </div>
      </nav>
      <div id="loader" style="display: none">
        <div class="loader-wrapper">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Processing...</span>
          </div>
          <div style="margin-left: 15px;">Processing...</div>
        </div>
      </div>
      <div id="iframe-container" style="height: calc(100% - 45px)">
        <iframe id="iframe-data" src="" class="w-100 h-100" frameborder="0" onload="onIframeLoadHandler(this)"></iframe>
      </div>
    </div>
  </div>

  <div>
  </div>
  <div class=" d-flex p-0">
    <div id="" style="flex: 1;">
    </div>
    <div id="noresources" style="display: none"> No resources found</div>
  </div>
  <main>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"></script>
    <script src="./script.js"></script>
    <script>
      const $resourcesContainer = document.getElementById("resources-container");
      const $dataContainer = document.getElementById("data-container");
      // A function is used for dragging and moving
      function dragElement(element) {
        var md; // remember mouse down info
        element.onmousedown = onMouseDown;

        function onMouseDown(e) {
          md = {
            e,
            offsetLeft: element.offsetLeft,
            offsetTop: element.offsetTop,
            resourcesContainerWidth: $resourcesContainer.offsetWidth,
            dataContainerWidth: $dataContainer.offsetWidth
          };

          element.style.width = "10px";
          $iframeData.style.pointerEvents = "none";
          document.onmousemove = onMouseMove;
          document.onmouseup = () => {
            element.style.width = "6px";
            $iframeData.style.pointerEvents = "all";
            document.onmousemove = document.onmouseup = null; // clears drag event
          }
        }

        function onMouseMove(e) {
          var delta = {
            x: e.clientX - md.e.clientX,
            y: e.clientY - md.e.clientY
          };

          // Prevent negative-sized elements
          delta.x = Math.min(Math.max(delta.x, -md.resourcesContainerWidth), md.dataContainerWidth);
          let resourcesContainerWidth = md.resourcesContainerWidth + delta.x;
          let dataContainerWidth = md.dataContainerWidth - delta.x;
          
          if (resourcesContainerWidth>=500 && dataContainerWidth>=500) {
            element.style.left = md.offsetLeft + delta.x + "px";
            // $resourcesContainer.style.width = resourcesContainerWidth + "px";
            $dataContainer.style.width = dataContainerWidth + "px";
          }
        }
      }


      dragElement(document.getElementById("separator"));

    </script>
</body>

</html>